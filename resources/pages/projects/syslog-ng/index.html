<article>
  <title>Syslog-ng projects</title>
</article>

<section>
  <p>
    As of this writing, there are two projects of mine built on
    <a href="https://www.balabit.com/network-security/syslog-ng/opensource-logging-system">syslog-ng</a>:
    the MongoDB
    <a href="/projects/syslog-ng/mongodb/">destination driver</a>, and
    <a href="http://mojology.madhouse-project.org/">mojology</a>, but
    being a syslog-ng OSE developer as part of my day job, I also
    maintain a fork of the syslog-ng code base, with a rather
    different layout than the official ones.
  </p>

  <p>
    I used to use a different branching and development model, one
    that often left a mess of branches in
    my <a href="https://github.com/algernon/syslog-ng">repository</a>:
    small, often one commit long branches lying around, where it's
    hard to figure out which need to be merged, and which need review.
  </p>

  <p>
    For the sake of easier merging, review and development, I changed
    the rules, and below is a short description about what one can
    find in my repository.
  </p>

  <h3><a name="branches/upstream">Upstream mirrors</a></h3>

  <p>
    Recently, the <a href="https://github.com/balabit/syslog-ng">upstream
    syslog-ng repository</a> switched to a single-repository model, so my tree
    is basically a mirror of that, with a few extra branches.
  </p>

  <p>
    The <strong><a href="https://github.com/algernon/syslog-ng/tree/master">master</a></strong>
    branch is a reasonably up-to-date mirror of the current development
    version of syslog-ng. The <strong><a href="https://github.com/algernon/syslog-ng/tree/3.5/master">3.5/master</a></strong>,
    <strong><a href="https://github.com/algernon/syslog-ng/tree/3.4/master">3.4/master</a></strong>
    and <strong><a href="https://github.com/algernon/syslog-ng/tree/3.3/master">3.3/master</a></strong>
    branches are where bugfixes for released versions go, and they are a mirror
    of the upstream branches of the same name.
  </p>

  <h3><a name="branches/hotfix">Hotfix branches</a></h3>

  <p>
    Occassionally, I will have branches prefixed
    with <strong>merge/h/<em>VERSION</em></strong>, branched off of the
    matching upstream branch, to contain some small fixes only.
  </p>

  <p>
    These are created when the fix itself is not suitable for
    the <a href="#branches/merge-queue">merge queue</a> branch (see
    below) for one reason or the other, such as waiting for
    review. They're short lived usually, too: they're deleted once the
    fix has been either merged to a master branch, or into
    the <a href="#branches/merge-queue">merge queue</a>.
  </p>

  <h3><a name="branches/feature">Feature branches</a></h3>

  <p>
    Feature branches (prefixed
    with <strong>merge/f/<em>VERSION</em></strong>) are branched off
    of the <a href="#branches/merge-queue">merge queue</a>, and
    contain work in progress features, and are often rebased to
    collapse commits, or move to a newer base for easier merging
    later.
  </p>

  <p>
    Unlike <a href="#branches/hotfix">hotfix branches</a>, these tend
    to live long, and get rebased frequently.
  </p>

  <p>
    Once a feature is done, it will be merged into
    the <a href="#branches/merge-queue">merge queue</a>, but the
    feature branch is kept around until it is also present on a master
    branch. If a feature needs further work, that will be performed on
    a (rebased) feature branch, and then merged into the merge queue
    again. This process repeats until the feature is accepted, or
    rejected completely, at which point the branch is deleted.
  </p>

  <h3><a name="branches/merge-queue">The merge queue</a></h3>

  <p>
    More interesting than the branches before,
    the <strong><em>VERSION</em>merge-queue</strong> branches contain
    patches I consider merge-ready. This branch replaces the former
    short-lived hotfix branches I used to have, but will also contain
    features, once they're complete.
  </p>

  <p>
    The version-less <strong>merge-queue</strong> branch contains
    merge-ready patches against the master branch.
  </p>

  <p>
    The branch is rebased onto the
    matching <a href="#branches/upstream">upstream branch</a> every
    time its contents get merged one way or the other.
  </p>

  <h3><a name="branches/packaging">Packaging branches</a></h3>

  <p>
    Packaging branches are where
    my <a href="/projects/debian/">packaging work</a> is done. They
    have
    their <a href="https://raw.github.com/algernon/syslog-ng/packaging/debian/3.5/debian/README.source">own
    documentation</a>.
  </p>

  <p>
    So, these branches, which all have
    a <strong>packaging/debian/</strong> prefix contain
    the <kbd>debian/</kbd> directory, and a submodule that points to
    the syslog-ng version the packaging was made for.
  </p>
</section>
